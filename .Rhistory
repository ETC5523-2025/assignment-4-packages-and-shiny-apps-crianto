hr(),
helpText("This app uses data included in the package.")
),
mainPanel(
plotOutput("histPlot"),
hr(),
verbatimTextOutput("summaryText"),
hr(),
h4("How to interpret the output:"),
p("The histogram shows the distribution of your selected variable.
The summary below provides basic descriptive statistics.")
)
)
)
server <- function(input, output, session) {
# Load dataset from package
if ("Top1000" %in% ls("package:assignment4packagescrianto")) {
data <- get("Top1000", envir = asNamespace("assignment4packagescrianto"))
} else {
# Fallback when running locally (before installation)
data("Top1000", envir = environment())
data <- Top1000
}
# Dynamically populate variable list
observe({
num_vars <- names(Filter(is.numeric, data))
updateSelectInput(session, "var", choices = num_vars)
})
output$histPlot <- renderPlot({
req(input$var)
ggplot(data, aes(x = .data[[input$var]])) +
geom_histogram(bins = 30, fill = "#0073C2FF", color = "white") +
theme_minimal() +
labs(x = input$var, y = "Count")
})
output$summaryText <- renderPrint({
req(input$var)
summary(data[[input$var]])
})
}
shinyApp(ui, server)
devtools::load_all()
str(Top1000)
# data-raw/Top1000.R
library(readxl)
library(dplyr)
library(janitor)
# Read Excel file
top1000_raw <- read_excel("data-raw/Top1000.xls", col_names = FALSE)
# The first row of your dataset contains headers, so fix that
Top1000 <- top1000_raw[-1, ]             # remove header row
colnames(Top1000) <- as.character(top1000_raw[1, ])  # set header row as column names
# Clean column names for consistency
Top1000 <- janitor::clean_names(Top1000)
# Convert numeric-like columns to numeric
Top1000 <- Top1000 %>%
mutate(across(-table_with_row_headings_in_column_a_and_column_headings_in_row_2,
~ suppressWarnings(as.numeric(.))))
# Rename the main column for readability
Top1000 <- Top1000 %>%
rename(name = table_with_row_headings_in_column_a_and_column_headings_in_row_2)
# Remove any fully empty rows
Top1000 <- Top1000 %>% filter(!if_all(everything(), is.na))
# Save cleaned dataset into the package
usethis::use_data(Top1000, overwrite = TRUE)
source("data-raw/Top1000.R")
devtools::load_all()
str(Top1000)
library(readxl)
library(dplyr)
library(janitor)
library(usethis)
# Read the Excel file
raw_data <- read_excel("data-raw/Top1000.xls", col_names = FALSE)
# The first row contains the actual column names
col_names <- as.character(unlist(raw_data[1, ]))
# Create clean dataset
Top1000 <- raw_data[-1, ] # remove the header row
names(Top1000) <- col_names # assign proper column names
# Clean the column names to make them syntactically valid in R
Top1000 <- janitor::clean_names(Top1000)
# Convert numeric-looking columns (x2 to x11) to numeric
Top1000 <- Top1000 %>%
mutate(across(starts_with("x"), ~ suppressWarnings(as.numeric(.))))
# Rename main identifier column for clarity
Top1000 <- Top1000 %>%
rename(name = table_with_row_headings_in_column_a_and_column_headings_in_row_2)
# Remove any empty rows
Top1000 <- Top1000 %>%
filter(!is.na(name))
# Save cleaned dataset into package
usethis::use_data(Top1000, overwrite = TRUE)
source("data-raw/Top1000.R")
devtools::load_all()
str(Top1000)
library(readxl)
library(dplyr)
library(janitor)
library(usethis)
# Read Excel file
raw_data <- read_excel("data-raw/Top1000.xls", col_names = FALSE)
# The first row contains the actual headers
col_names <- as.character(unlist(raw_data[1, ]))
# Assign the column names to the rest of the data
Top1000 <- raw_data[-1, ]
names(Top1000) <- col_names
# Clean column names
Top1000 <- janitor::clean_names(Top1000)
# Rename columns properly
colnames(Top1000) <- c(
"name", "rank", "count", "prop100k", "cum_prop100k",
"pct_white", "pct_black", "pct_api", "pct_aian",
"pct_two_or_more", "pct_hispanic"
)
# Convert numeric columns to numeric type
Top1000 <- Top1000 %>%
mutate(across(-name, ~ suppressWarnings(as.numeric(.)))) %>%
filter(!is.na(rank))  # remove header row or incomplete rows
# Save clean dataset
usethis::use_data(Top1000, overwrite = TRUE)
source("data-raw/Top1000.R")
devtools::load_all()
str(Top1000)
library(readxl)
library(dplyr)
library(janitor)
library(usethis)
# âœ… Read Excel with the first row as headers
Top1000 <- read_excel("data-raw/Top1000.xls", col_names = TRUE)
# Clean the column names to be syntactically safe in R
Top1000 <- janitor::clean_names(Top1000)
# Rename columns properly for readability
colnames(Top1000) <- c(
"name", "rank", "count", "prop100k", "cum_prop100k",
"pct_white", "pct_black", "pct_api", "pct_aian",
"pct_two_or_more", "pct_hispanic"
)
# Convert numeric columns to numeric
Top1000 <- Top1000 %>%
mutate(across(-name, ~ suppressWarnings(as.numeric(.)))) %>%
filter(!is.na(rank))
# Save cleaned dataset
usethis::use_data(Top1000, overwrite = TRUE)
library(readxl)
library(dplyr)
library(janitor)
library(usethis)
Top1000 <- read_excel("data-raw/Top1000.xls", col_names = TRUE)
Top1000 <- janitor::clean_names(Top1000)
colnames(Top1000) <- c(
"name", "rank", "count", "prop100k", "cum_prop100k",
"pct_white", "pct_black", "pct_api", "pct_aian",
"pct_two_or_more", "pct_hispanic"
)
Top1000 <- Top1000 %>%
mutate(across(-name, ~ suppressWarnings(as.numeric(.)))) %>%
filter(!is.na(rank))
usethis::use_data(Top1000, overwrite = TRUE)
source("data-raw/Top1000.R")
devtools::load_all()
str(Top1000)
library(shiny)
library(ggplot2)
library(bslib)
ui <- page_fluid(
theme = bs_theme(bootswatch = "flatly"),
titlePanel("Explore the Top 1000 Dataset"),
sidebarLayout(
sidebarPanel(
helpText("Select a numeric column to visualize:"),
selectInput("var", "Variable:", choices = NULL),
helpText("Use the sliders or inputs to explore."),
hr(),
helpText("This app uses data included in the package.")
),
mainPanel(
plotOutput("histPlot"),
hr(),
verbatimTextOutput("summaryText"),
hr(),
h4("How to interpret the output:"),
p("The histogram shows the distribution of your selected variable.
The summary below provides basic descriptive statistics.")
)
)
)
server <- function(input, output, session) {
# Load dataset from package
if ("Top1000" %in% ls("package:assignment4packagescrianto")) {
data <- get("Top1000", envir = asNamespace("assignment4packagescrianto"))
} else {
# Fallback when running locally (before installation)
data("Top1000", envir = environment())
data <- Top1000
}
# Dynamically populate variable list
observe({
num_vars <- names(Filter(is.numeric, data))
updateSelectInput(session, "var", choices = num_vars)
})
output$histPlot <- renderPlot({
req(input$var)
ggplot(data, aes(x = .data[[input$var]])) +
geom_histogram(bins = 30, fill = "#0073C2FF", color = "white") +
theme_minimal() +
labs(x = input$var, y = "Count")
})
output$summaryText <- renderPrint({
req(input$var)
summary(data[[input$var]])
})
}
shinyApp(ui, server)
library(shiny)
library(ggplot2)
library(bslib)
ui <- page_fluid(
theme = bs_theme(bootswatch = "flatly"),
titlePanel("Explore the Top 1000 Dataset"),
sidebarLayout(
sidebarPanel(
helpText("Select a column to visualize:"),
selectInput("var", "Variable:", choices = NULL),
hr(),
helpText("Choose any column to explore.\n
â€¢ Numeric â†’ histogram of its distribution\n
â€¢ Text â†’ bar chart of most frequent values")
),
mainPanel(
plotOutput("plotOutput"),
hr(),
verbatimTextOutput("summaryOutput"),
hr(),
h4("How to interpret the output:"),
p("For numeric columns, the histogram shows how values are distributed across the dataset.
For text columns, the bar chart shows which categories appear most frequently.")
)
)
)
server <- function(input, output, session) {
# âœ… Load dataset safely (works locally or when installed)
if ("Top1000" %in% ls("package:assignment4packagescrianto")) {
data <- get("Top1000", envir = asNamespace("assignment4packagescrianto"))
} else {
data("Top1000", envir = environment())
data <- Top1000
}
# Populate dropdown with all columns
observe({
updateSelectInput(session, "var", choices = names(data))
})
# Create dynamic plot
output$plotOutput <- renderPlot({
req(input$var)
var_data <- data[[input$var]]
# Plot depending on variable type
if (is.numeric(var_data)) {
ggplot(data, aes(x = var_data)) +
geom_histogram(bins = 30, fill = "#0073C2FF", color = "white") +
theme_minimal() +
labs(x = input$var, y = "Count",
title = paste("Distribution of", input$var))
} else {
# Limit to top 20 categories for readability
top_vals <- sort(table(var_data), decreasing = TRUE)[1:20]
df <- data.frame(Category = names(top_vals), Count = as.numeric(top_vals))
ggplot(df, aes(x = reorder(Category, Count), y = Count)) +
geom_col(fill = "#009E73") +
coord_flip() +
theme_minimal() +
labs(x = "Category", y = "Count",
title = paste("Top categories in", input$var))
}
})
# Display summary text
output$summaryOutput <- renderPrint({
req(input$var)
var_data <- data[[input$var]]
if (is.numeric(var_data)) {
summary(var_data)
} else {
cat("Top 10 most frequent values:\n")
print(head(sort(table(var_data), decreasing = TRUE), 10))
}
})
}
shinyApp(ui, server)
library(shiny)
library(ggplot2)
library(bslib)
library(dplyr)
ui <- page_fluid(
theme = bs_theme(bootswatch = "flatly"),
titlePanel("How Common Is Your Name?"),
sidebarLayout(
sidebarPanel(
textInput("user_name", "Enter your name:", value = "Smith"),
actionButton("search", "Search"),
hr(),
helpText("This app compares your name's frequency to others in the US Top 1000 list."),
helpText("Type your name (case-insensitive) and click 'Search' to see how common it is.")
),
mainPanel(
plotOutput("histPlot"),
hr(),
verbatimTextOutput("summaryText"),
hr(),
h4("How to interpret the chart:"),
p("The histogram shows the distribution of name counts across the dataset.
The red line marks your nameâ€™s position â€” if itâ€™s near the right, your name is very common!")
)
)
)
server <- function(input, output, session) {
# âœ… Load dataset safely
if ("Top1000" %in% ls("package:assignment4packagescrianto")) {
data <- get("Top1000", envir = asNamespace("assignment4packagescrianto"))
} else {
data("Top1000", envir = environment())
data <- Top1000
}
# Prepare the data
data <- data %>%
mutate(name_lower = tolower(name)) %>%
mutate(count = as.numeric(count))
# Observe search action
observeEvent(input$search, {
user_input <- tolower(trimws(input$user_name))
# Find matching name
matched <- data %>% filter(name_lower == user_input)
output$histPlot <- renderPlot({
ggplot(data, aes(x = count)) +
geom_histogram(bins = 30, fill = "#0073C2FF", color = "white") +
geom_vline(
data = matched,
aes(xintercept = count),
color = "red", size = 1.2, linetype = "dashed"
) +
theme_minimal() +
labs(
title = paste("How common is", input$user_name, "?"),
x = "Number of people with the name",
y = "Frequency of names"
)
})
output$summaryText <- renderPrint({
if (nrow(matched) == 0) {
cat("Sorry, that name was not found in the Top 1000 list.")
} else {
cat(
paste0(
"Name: ", matched$name, "\n",
"Rank: ", matched$rank, "\n",
"Count: ", matched$count, " people\n",
sprintf("This name represents %.2f per 100k population.", matched$prop100k)
)
)
}
})
})
}
shinyApp(ui, server)
library(shiny)
library(ggplot2)
library(bslib)
library(dplyr)
ui <- page_fluid(
theme = bs_theme(bootswatch = "flatly"),
titlePanel("How Common Is Your Surname?"),
sidebarLayout(
sidebarPanel(
textInput("user_name", "Enter your name:", value = "Smith"),
actionButton("search", "Search"),
hr(),
helpText("This app compares your name's frequency to others in the US Top 1000 list."),
helpText("Type your name (case-insensitive) and click 'Search' to see how common it is.")
),
mainPanel(
plotOutput("histPlot"),
hr(),
verbatimTextOutput("summaryText"),
hr(),
h4("How to interpret the chart:"),
p("The histogram shows the distribution of name counts across the dataset.
The red line marks your nameâ€™s position â€” if itâ€™s near the right, your name is very common!")
)
)
)
server <- function(input, output, session) {
# âœ… Load dataset safely
if ("Top1000" %in% ls("package:assignment4packagescrianto")) {
data <- get("Top1000", envir = asNamespace("assignment4packagescrianto"))
} else {
data("Top1000", envir = environment())
data <- Top1000
}
# Prepare the data
data <- data %>%
mutate(name_lower = tolower(name)) %>%
mutate(count = as.numeric(count))
# Observe search action
observeEvent(input$search, {
user_input <- tolower(trimws(input$user_name))
# Find matching name
matched <- data %>% filter(name_lower == user_input)
output$histPlot <- renderPlot({
ggplot(data, aes(x = count)) +
geom_histogram(bins = 30, fill = "#0073C2FF", color = "white") +
geom_vline(
data = matched,
aes(xintercept = count),
color = "red", size = 1.2, linetype = "dashed"
) +
theme_minimal() +
labs(
title = paste("How common is", input$user_name, "?"),
x = "Number of people with the name",
y = "Frequency of names"
)
})
output$summaryText <- renderPrint({
if (nrow(matched) == 0) {
cat("Sorry, that name was not found in the Top 1000 list.")
} else {
cat(
paste0(
"Name: ", matched$name, "\n",
"Rank: ", matched$rank, "\n",
"Count: ", matched$count, " people\n",
sprintf("This name represents %.2f per 100k population.", matched$prop100k)
)
)
}
})
})
}
shinyApp(ui, server)
devtools::load_all()
launch_app()
#' Launch the Top1000 Shiny App
#'
#' This function launches the interactive Shiny application
#' that allows users to explore how common their name is
#' compared to others in the Top 1000 dataset.
#'
#' @return Opens a Shiny app in your default browser.
#' @export
#' @examples
#' if (interactive()) {
#'   launch_app()
#' }
launch_app <- function() {
app_dir <- system.file("app", package = "assignment4packagescrianto")
if (app_dir == "") {
stop("Could not find app directory. Try reinstalling the package.", call. = FALSE)
}
shiny::runApp(app_dir, display.mode = "normal")
}
devtools::document()
devtools::load_all()
launch_app()
usethis::use_pkgdown()
usethis::use_vignette("exploring-top1000")
---
title: "Exploring the Top 1000 Names Dataset"
```r
```r
devtools::build_vignettes()
browseVignettes("assignment4packagescrianto")
pkgdown::build_site()
devtools::document()
pkgdown::build_site()
# Clean and reinstall the package
devtools::document()       # generates .Rd docs
devtools::install()        # installs package locally
devtools::load_all()       # loads functions/data into R session
# Then rebuild the site
pkgdown::build_site()
# Clean and reinstall the package
devtools::document()       # generates .Rd docs
devtools::install()        # installs package locally
devtools::load_all()       # loads functions/data into R session
# Then rebuild the site
pkgdown::build_site()
pkgdown::build_site()
pkgdown::build_site()
devtools::document()
devtools::install()
pkgdown::build_site()
devtools::document()
devtools::install()
pkgdown::build_site()
```r
pkgdown::build_site()
pkgdown::build_site()
# assignment4packagescrianto
Welcome to the **Surname Checker Package**! ðŸ§©
pkgdown::build_site()
pkgdown::build_site()
usethis::rename_package("surnameChecker")
pkgdown::build_site()
devtools::document()
devtools::install()
pkgdown::build_site()
devtools::document()
devtools::install()
pkgdown::build_site()
pkgdown::build_site()
pkgdown::build_site()
pkgdown::build_site()
pkgdown::build_site()
pkgdown::build_site()
